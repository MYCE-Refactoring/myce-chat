server:
  port: 8031

spring:
  application:
    name: chat-api
  config:
    import:
#      - optional:classpath:application-domain.yml
#      - optional:classpath:../application-domain.yml
      - optional:aws-parameterstore:/myce/common/
      - optional:aws-parameterstore:/myce/${spring.profiles.active}/
  # AI Configuration
  ai:
    bedrock:
      aws:
        region: ${BEDROCK_AWS_REGION:ap-northeast-2}
        access-key: ${BEDROCK_AWS_ACCESS_KEY_ID:}
        secret-key: ${BEDROCK_AWS_SECRET_ACCESS_KEY:}
      converse:
        chat:
          options:
            model: apac.amazon.nova-lite-v1:0  # Use APAC inference profile for ap-northeast-2
            temperature: 0.7
            max-tokens: 400

internal:
  auth:
    value: ${GATEWAY_AUTH_VALUE}
  core:
    url: lb://CORE-INTERNAL
    value: ${INTERNAL_AUTH_VALUE}


scheduler:
  admin-timeout: 0 */30 * * * *
logging:
  level:
    org.springframework: info
    com.myce: debug
    org.springframework.data.mongodb.core.MongoTemplate: DEBUG


eureka:
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: ${EUREKA_URL}
  instance:
    prefer-ip-address: true

management:
  endpoints:
    web:
      exposure:
        include: health, info, metrics, prometheus
  prometheus:
    metrics:
      export:
        enabled: true
